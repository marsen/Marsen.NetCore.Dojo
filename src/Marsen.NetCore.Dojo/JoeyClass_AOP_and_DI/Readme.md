## 

這個是為了複習 2020 年初 91 大課程所作的筆記。

因為中間經歷工作更換，農曆年與中國武漢肺炎(COVID-19)疫情所影響。
所以未能即時整理當初上課筆記。


## 起程 : 從一份小型遺留代碼開始 
我們的 AuthenticationService 類別有一個 Verify 方法，  
它要作的事情很簡單，就是驗証登入的身份。

1. 驗証使用者登入的帳號與密碼是否正確 ?
2. 驗証使用者輸入的 OTP 是否正確 ?

[![](https://i.imgur.com/dsQtRIK.jpg)](https://github.com/marsen/Marsen.NetCore.Dojo/commit/640e640cc960fd82ad58fd3ad2f9657770b2f8e1)  

## 增胖 : 功能追加

1. 驗證失敗，用 Slack 通知
2. 驗證失敗超過 3 次，鎖帳號
   - 記錄驗證失敗次數
   - 驗證成功 Reset 失敗次數 
3. 確認帳號沒有被鎖才進行驗證

一般來說，實務上我們會看到這樣的代碼。
有點胖(職責不分)，但是段落清楚，也有寫註解。
雖然東西有點多，但是認真看仍然可以了解其意圖。

## 重構 : Extracted Method


