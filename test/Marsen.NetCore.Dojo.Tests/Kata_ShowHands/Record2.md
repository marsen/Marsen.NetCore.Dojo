#

## 下一步 處理同花的比較

首先，我想大略的檢查現有的測試有沒有不符合的測試項目 ?
我總共有 25 個有關 Kata_ShowHands 的測試
15 個 ShowHand Tests , 8 個 HandCard Tests 以及 2 個 CardParse Tests。
仔細看過只有 15 個的 ShowHand Tests 與花色比較有關。
進一步分析，我們比較邏輯的順序是 牌型 > 點數 > 花色，
也就是說現有的測試只有平手的情況需要進一步檢查，
如果有花色相異，就要調整成相同並通過測試。

### 不存在的案例

我的測試案例中，
兩對的平手，"S4,C4,D5,H5,C7", "S4,C4,D5,S5,S7"
三條的平手, "S3,C4,D6,H6,C6", "S3,C4,D6,H6,C6"
實際上在一副牌的情況下，應該不會存在這樣的案例。

### 我想處理什麼問題

我想比較同花的情況，而非一副牌或兩副牌的假設。
所以我需要「真實需要比較同花的案例」，
我們的比較邏輯是，牌型 > 數字 > 花色，
黑桃 > 紅心 > 方塊 > 梅花

#### case 同花順 vs 同花順

(開發目的:逼出牌型同花順時且數字相同時，比較花色)  
Tom : H5 H6 H7 H8 H9  
Lee : D5 D6 D7 D8 D9  

Tom Win, Because Straight Flush, And Heart .
相同是同花順的比較下，先比哪個順子比較大，如果是相同的順子才會比較花色

### 四條的情況

一副牌的情形下，四條會如何比較 ?
都是四條，且四張大小相同時會比較 Key Card，若是 Key Card 數字相同時 ?
應該如何比較 ?

1. 直接比 Key Card 的花色大小 ?

    4條數字 > 單張數字 > 單張花色

2. 直接比 4 條的花色大小 ?

    不可能，不論幾副牌 4 條不存在同花色的可能性

### 葫蘆的情況

如果兩個玩家都拿到葫蘆的情況下，  
優先比 3 張的數字再比 2 張的數字，  
~~如果仍是平手的情況下，才會進行花色的比較~~  
~~應該優先比 3 張的花色，再比 2 張的花色。~~
實際上的葫蘆不需要比花色，3 張 2 張數字皆相同的情況下，直接平手。

### 同花的情況

如果兩個人都拿到同花，直接比 Key Card
如果 Key Card 相同，才會進行花色的比較

#### 突然發現 Get KeyCard 如果只有牌的數字沒有花色會很難處理
#### 突然發現 x 是寫死的。應該要有反向的測試案例
### 順子的情況

順子沒有同花的情況，否則就是同花順了
此外並沒有存在比較花色的邏輯，所以應該直接當作平手

### 三條的情況

三條的情況，剩下的兩張肯定不結對，否則就是葫蘆了  
三條不比花色，剩下的兩張也不比花色
所以也是平手

### 兩對的情況

兩對若數字皆相同，會進行 Key Card 的比對  
Key Card 比對應先數字後花色